/* ä¿®å¤é¢œè‰²é—®é¢˜çš„CSS */
:root {
    /* æ˜Ÿç©ºä¸»é¢˜é¢œè‰²å˜é‡ */
    --qq-blue: #5097CD;
    --qq-light-blue: #CCE4F4;
    --qq-bg-light: #EFF7FB;
    --qq-dark: #2B3A4C;
    
    /* æ¯›ç»ç’ƒæ•ˆæœå˜é‡ - ä¿®å¤é€æ˜åº¦é—®é¢˜ */
    --glass-bg: rgba(255, 255, 255, 0.95);
    --glass-border: rgba(255, 255, 255, 0.3);
    --glass-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);
    
    /* æ¸å˜å˜é‡ */
    --gradient-primary: linear-gradient(135deg, #5097CD 0%, #3B83A2 100%);
    --gradient-secondary: linear-gradient(135deg, #CCE4F4 0%, #EFF7FB 100%);
    
    /* åœ†è§’å˜é‡ */
    --radius-sm: 8px;
    --radius-md: 12px;
    --radius-lg: 16px;
    --radius-xl: 20px;
    --radius-full: 50%;
}

body {
    background: linear-gradient(135deg, #EFF7FB 0%, #CCE4F4 50%, #5097CD 100%) !important;
}

/* æ˜Ÿç©ºèƒŒæ™¯è£…é¥° */
body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: 
        radial-gradient(2px 2px at 20px 30px, #fff, transparent),
        radial-gradient(2px 2px at 40px 70px, rgba(255,255,255,0.8), transparent),
        radial-gradient(1px 1px at 90px 40px, #fff, transparent),
        radial-gradient(1px 1px at 130px 80px, rgba(255,255,255,0.6), transparent),
        radial-gradient(2px 2px at 160px 30px, #fff, transparent);
    background-repeat: repeat;
    background-size: 200px 100px;
    animation: twinkle 4s ease-in-out infinite alternate;
    z-index: -1;
}

@keyframes twinkle {
    0% { opacity: 0.3; }
    100% { opacity: 1; }
}

/* ä¿®å¤header - ä½¿ç”¨è“è‰²æ¸å˜ */
.header {
    background: linear-gradient(135deg, #5097CD 0%, #3B83A2 100%) !important;
    backdrop-filter: blur(20px) !important;
    -webkit-backdrop-filter: blur(20px) !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.2) !important;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15) !important;
    color: white !important;
}

/* ä¿®å¤headeræŒ‰é’®é¢œè‰² - ç™½è‰²æ–‡å­—åœ¨è“è‰²èƒŒæ™¯ä¸Š */
.header-button, .header-button-text {
    color: white !important;
    font-weight: 600 !important;
}

/* ä¿®å¤main-headeræ ·å¼ - åŒæ ·ä½¿ç”¨è“è‰²æ¸å˜ */
.main-header {
    background: linear-gradient(135deg, #5097CD 0%, #3B83A2 100%) !important;
    backdrop-filter: blur(20px) !important;
    -webkit-backdrop-filter: blur(20px) !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.2) !important;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15) !important;
    color: white !important;
}

/* ä¿®å¤æœç´¢æ æ ·å¼ - æ”¹å›ç™½è‰² */
.search-bar {
    background: rgba(255, 255, 255, 0.95) !important;
    backdrop-filter: blur(15px) !important;
    -webkit-backdrop-filter: blur(15px) !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1) !important;
}

/* ä¿®å¤æœç´¢æ å®¹å™¨æ ·å¼ - æ”¹å›ç™½è‰² */
.search-bar-container {
    background: rgba(255, 255, 255, 0.8) !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
}

/* ä¿®å¤ç”¨æˆ·ä¿¡æ¯æ æ–‡å­—é¢œè‰² */
.user-details span {
    color: white !important;
}

/* ä¿®å¤çŠ¶æ€ç‚¹æ ·å¼ */
.status-dot {
    background: linear-gradient(135deg, #4CAF50, #45a049) !important;
    box-shadow: 0 0 10px rgba(76, 175, 80, 0.5) !important;
}

/* ä¿®å¤èŠå¤©è¾“å…¥åŒºåŸŸ - ä½¿ç”¨æ¯”èƒŒæ™¯æ›´æµ…çš„è“è‰² */
.chat-input-area {
    background: rgba(240, 248, 255, 0.95) !important;
    backdrop-filter: blur(15px) !important;
    -webkit-backdrop-filter: blur(15px) !important;
    border-top: 1px solid rgba(80, 151, 205, 0.2) !important;
    box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1) !important;
}

/* ä¿®å¤èŠå¤©è¾“å…¥æ¡† - ä½¿ç”¨æ›´æ˜æ˜¾çš„è¾¹ç•Œ */
#chat-input {
    background: rgba(255, 255, 255, 0.9) !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
    border: 2px solid rgba(80, 151, 205, 0.3) !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
}

/* ä¿®å¤èŠå¤©åˆ—è¡¨é¡¹ - ä¿æŒç™½è‰² */
.chat-list-item {
    background: rgba(255, 255, 255, 0.9) !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08) !important;
}

/* ä¿®å¤ç½®é¡¶èŠå¤© - ä½¿ç”¨æµ…è“è‰²èƒŒæ™¯åŒºåˆ† */
.chat-list-item.pinned {
    background: rgba(240, 248, 255, 0.95) !important;
    border: 2px solid rgba(80, 151, 205, 0.3) !important;
    box-shadow: 0 4px 15px rgba(80, 151, 205, 0.15) !important;
}

.chat-list-item.pinned::before {
    content: 'ğŸ“Œ';
    position: absolute;
    top: 8px;
    right: 8px;
    font-size: 12px;
    opacity: 0.7;
}

/* ä¿®å¤æ¶ˆæ¯æ°”æ³¡ - ç”¨æˆ·æ¶ˆæ¯ä½¿ç”¨æ·±è“è‰² */
.user-row .message {
    background: linear-gradient(135deg, #5097CD 0%, #3B83A2 100%) !important;
    color: white !important;
    box-shadow: 0 4px 15px rgba(80, 151, 205, 0.3) !important;
}

/* ä¿®å¤æ¶ˆæ¯æ°”æ³¡ - AIæ¶ˆæ¯æ”¹å›ç™½è‰² */
.assistant-row .message {
    background: rgba(255, 255, 255, 0.95) !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1) !important;
    color: #333 !important;
}

/* ä¿®å¤åº•éƒ¨å¯¼èˆªæ  - æ”¹å›åŸæ¥çš„é¢œè‰² */
#app-nav {
    background: rgba(255, 255, 255, 0.95) !important;
    backdrop-filter: blur(20px) !important;
    -webkit-backdrop-filter: blur(20px) !important;
    border-top: 1px solid rgba(255, 255, 255, 0.3) !important;
    box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1) !important;
}

/* ä¿®å¤å¯¼èˆªæŒ‰é’® - æ”¹å›åŸæ¥çš„é¢œè‰² */
.nav-button {
    color: #666 !important;
    transition: all 0.3s ease !important;
}

.nav-button.active {
    color: #5097CD !important;
    background: rgba(80, 151, 205, 0.1) !important;
    border-radius: var(--radius-md) !important;
}

/* ä¿®å¤è®¾ç½®ç»„æ ·å¼ - æ”¹å›ç™½è‰² */
.settings-group {
    background: rgba(255, 255, 255, 0.9) !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1) !important;
}

/* ä¿®å¤è®¾ç½®é¡µé¢èƒŒæ™¯ - ä½¿ç”¨ç¨å¾®é‡ä¸€ç‚¹çš„èƒŒæ™¯è‰² */
#settings-form, #ai-editor-form, .contact-settings-container {
    background: rgba(248, 250, 252, 0.95) !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
}

/* ä¿®å¤è®¾ç½®é¡µé¢è¾“å…¥æ¡† - å¢å¼ºè¾¹ç•Œå’Œå¯¹æ¯”åº¦ */
#settings-form input[type="text"], 
#settings-form select,
#ai-editor-form input[type="text"],
#ai-editor-form textarea,
#ai-editor-form select {
    background: rgba(255, 255, 255, 0.98) !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
    border: 3px solid rgba(80, 151, 205, 0.4) !important;
    box-shadow: 0 3px 12px rgba(0, 0, 0, 0.15) !important;
    transition: all 0.3s ease !important;
    color: #333 !important;
}

#settings-form input[type="text"]:focus, 
#settings-form select:focus,
#ai-editor-form input[type="text"]:focus,
#ai-editor-form textarea:focus,
#ai-editor-form select:focus {
    border-color: #5097CD !important;
    box-shadow: 0 4px 16px rgba(80, 151, 205, 0.4) !important;
    transform: translateY(-2px) !important;
    background: rgba(255, 255, 255, 1) !important;
}

/* ä¿®å¤æ¨¡æ€æ¡†æ ·å¼ - æ”¹å›ç™½è‰² */
.modal-content {
    background: rgba(255, 255, 255, 0.95) !important;
    backdrop-filter: blur(20px) !important;
    -webkit-backdrop-filter: blur(20px) !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2) !important;
}

/* ä¿®å¤ç­›é€‰å™¨é¢æ¿ - æ”¹å›ç™½è‰² */
.search-filters-panel {
    background: rgba(255, 255, 255, 0.95) !important;
    backdrop-filter: blur(15px) !important;
    -webkit-backdrop-filter: blur(15px) !important;
    border-bottom: 1px solid rgba(255, 255, 255, 0.3) !important;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1) !important;
}

/* ä¿®å¤ç­›é€‰å™¨æŒ‰é’® - ç¡®ä¿é‡ç½®å’Œåº”ç”¨æŒ‰é’®å¯è§ */
.filters-actions button {
    background: rgba(255, 255, 255, 0.9) !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
    color: #666 !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
}

#apply-filters-btn {
    background: linear-gradient(135deg, #5097CD 0%, #3B83A2 100%) !important;
    color: white !important;
    border-color: #5097CD !important;
    box-shadow: 0 2px 8px rgba(80, 151, 205, 0.3) !important;
}

/* ä¿®å¤ä¾§è¾¹æ  - æ”¹å›ç™½è‰² */
#side-menu {
    background: rgba(255, 255, 255, 0.95) !important;
    backdrop-filter: blur(20px) !important;
    -webkit-backdrop-filter: blur(20px) !important;
    border-right: 1px solid rgba(255, 255, 255, 0.3) !important;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.1) !important;
}

/* ä¿®å¤æ‰©å±•åŠŸèƒ½é¢æ¿ - æ”¹å›ç™½è‰² */
#extended-functions-panel {
    background: rgba(255, 255, 255, 0.95) !important;
    backdrop-filter: blur(15px) !important;
    -webkit-backdrop-filter: blur(15px) !important;
    border-top: 1px solid rgba(255, 255, 255, 0.3) !important;
    box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1) !important;
}

/* ä¿®å¤åŠŸèƒ½å›¾æ ‡ - æ”¹å›ç™½è‰² */
.function-icon {
    background: rgba(255, 255, 255, 0.9) !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08) !important;
}

/* ä¿®å¤å…¨å±€æç¤º - æ”¹å›ç™½è‰² */
#global-toast {
    background: rgba(255, 255, 255, 0.95) !important;
    backdrop-filter: blur(15px) !important;
    -webkit-backdrop-filter: blur(15px) !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
    color: #333 !important;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15) !important;
}

/* ä¿®å¤å…³ç³»å¡ç‰‡ - æ”¹å›ç™½è‰² */
.message-relationship-card, .message-breakup-card {
    background: rgba(255, 255, 255, 0.95) !important;
    backdrop-filter: blur(15px) !important;
    -webkit-backdrop-filter: blur(15px) !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1) !important;
}

/* ä¿®å¤æ–‡æœ¬ç¼–è¾‘å™¨ - æ”¹å›ç™½è‰² */
#text-editor-textarea {
    background: rgba(255, 255, 255, 0.9) !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08) !important;
}

/* ä¿®å¤æ›´å¤šåŠŸèƒ½æŠ½å±‰ - æ”¹å›ç™½è‰² */
.more-functions-drawer {
    background: rgba(255, 255, 255, 0.95) !important;
    backdrop-filter: blur(20px) !important;
    -webkit-backdrop-filter: blur(20px) !important;
}

.more-functions-content {
    background: rgba(255, 255, 255, 0.95) !important;
    backdrop-filter: blur(20px) !important;
    -webkit-backdrop-filter: blur(20px) !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2) !important;
}

/* ä¿®å¤ä¾§è¾¹æ è¦†ç›–å±‚ - ä¿æŒæ˜Ÿç©ºæ•ˆæœ */
.sidebar-overlay {
    background: rgba(0, 0, 0, 0.3) !important;
    backdrop-filter: blur(5px) !important;
    -webkit-backdrop-filter: blur(5px) !important;
}

/* ================================ */
/* å…¨æ–°å¼¹çª—è®¾è®¡ - ç°ä»£åŒ–ç²¾è‡´é£æ ¼ */
/* ================================ */

/* å¼¹çª—å®¹å™¨ */
.modal-content {
    max-width: 380px !important;
    width: 90% !important;
    border-radius: 20px !important;
    overflow: hidden !important;
    background: rgba(255, 255, 255, 0.98) !important;
    backdrop-filter: blur(20px) !important;
    -webkit-backdrop-filter: blur(20px) !important;
    border: 1px solid rgba(255, 255, 255, 0.4) !important;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15) !important;
}

/* å¼¹çª—å¤´éƒ¨ */
.modal-header {
    padding: 24px 24px 16px 24px !important;
    background: linear-gradient(135deg, rgba(80, 151, 205, 0.05) 0%, rgba(59, 131, 162, 0.05) 100%) !important;
    border-bottom: none !important;
    border-radius: 20px 20px 0 0 !important;
    position: relative !important;
}

.modal-header h3 {
    color: #2B3A4C !important;
    font-size: 18px !important;
    font-weight: 600 !important;
    margin: 0 !important;
    text-align: center !important;
    letter-spacing: 0.5px !important;
}

/* å…³é—­æŒ‰é’® */
.close-button {
    position: absolute !important;
    top: 20px !important;
    right: 20px !important;
    width: 32px !important;
    height: 32px !important;
    border-radius: 50% !important;
    background: rgba(255, 255, 255, 0.9) !important;
    border: none !important;
    color: #666 !important;
    font-size: 16px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    cursor: pointer !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
}

.close-button:hover {
    background: rgba(240, 240, 240, 1) !important;
    transform: scale(1.1) !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
}

/* å¼¹çª—å†…å®¹åŒºåŸŸ */
.modal-body {
    padding: 20px 24px 24px 24px !important;
    background: rgba(255, 255, 255, 0.95) !important;
}

.modal-body .form-group {
    margin-bottom: 20px !important;
}

.modal-body .form-group:last-child {
    margin-bottom: 0 !important;
}

.modal-body label {
    color: #2B3A4C !important;
    font-weight: 500 !important;
    margin-bottom: 8px !important;
    display: block !important;
    font-size: 14px !important;
    letter-spacing: 0.3px !important;
}

.modal-body input[type="text"],
.modal-body textarea {
    width: 100% !important;
    padding: 14px 16px !important;
    border: 2px solid rgba(80, 151, 205, 0.15) !important;
    border-radius: 12px !important;
    background: rgba(248, 250, 255, 0.8) !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
    box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.05) !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    color: #333 !important;
    font-size: 14px !important;
    box-sizing: border-box !important;
    resize: none !important;
    outline: none !important;
}

.modal-body input[type="text"]:focus,
.modal-body textarea:focus {
    border-color: #5097CD !important;
    background: rgba(255, 255, 255, 1) !important;
    box-shadow: 
        inset 0 1px 3px rgba(0, 0, 0, 0.05), 
        0 0 0 3px rgba(80, 151, 205, 0.1) !important;
    transform: translateY(-1px) !important;
}

/* å¼¹çª—åº•éƒ¨æŒ‰é’®åŒºåŸŸ */
.modal-footer,
.modal-footer-split {
    padding: 20px 24px 24px 24px !important;
    background: rgba(255, 255, 255, 0.95) !important;
    border-top: none !important;
    border-radius: 0 0 20px 20px !important;
    display: flex !important;
    justify-content: center !important;
    gap: 12px !important;
}

.modal-footer button,
.modal-button {
    min-width: 100px !important;
    padding: 12px 24px !important;
    border-radius: 12px !important;
    font-size: 14px !important;
    font-weight: 600 !important;
    cursor: pointer !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    border: none !important;
    outline: none !important;
    letter-spacing: 0.5px !important;
    position: relative !important;
    overflow: hidden !important;
}

/* å–æ¶ˆæŒ‰é’® */
.modal-button.secondary,
.modal-footer button:first-child {
    background: rgba(255, 255, 255, 0.9) !important;
    color: #666 !important;
    border: 2px solid rgba(200, 200, 200, 0.3) !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08) !important;
}

.modal-button.secondary:hover,
.modal-footer button:first-child:hover {
    background: rgba(245, 245, 245, 1) !important;
    border-color: rgba(180, 180, 180, 0.5) !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12) !important;
}

/* ç¡®å®šæŒ‰é’® */
.modal-button.primary,
.modal-footer button:last-child {
    background: linear-gradient(135deg, #5097CD 0%, #3B83A2 100%) !important;
    color: white !important;
    box-shadow: 0 4px 12px rgba(80, 151, 205, 0.3) !important;
}

.modal-button.primary:hover,
.modal-footer button:last-child:hover {
    background: linear-gradient(135deg, #4088BD 0%, #2B7392 100%) !important;
    transform: translateY(-2px) !important;
    box-shadow: 0 8px 20px rgba(80, 151, 205, 0.4) !important;
}

/* æŒ‰é’®æŒ‰ä¸‹æ•ˆæœ */
.modal-button:active,
.modal-footer button:active {
    transform: translateY(0) !important;
    transition: all 0.1s !important;
}

/* ç‰¹æ®Šæ ·å¼ï¼šåˆ†å‰²æŒ‰é’®å¸ƒå±€ */
.modal-footer-split .modal-button {
    flex: 1 !important;
    max-width: 140px !important;
} 
